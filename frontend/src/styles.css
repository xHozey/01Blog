:root {
  --bs-box-shadow-light: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
  --bs-box-shadow-dark: 0 2px 4px rgba(0, 0, 0, 0.5), 0 6px 12px rgba(0, 0, 0, 0.3), 0 12px 24px rgba(0, 0, 0, 0.2);
  --bs-box-shadow: var(--bs-box-shadow-light);

  --bg-color: #f5f6f7;
  --surface-bg: #ffffff;
  --text-color: #1f2328;

  --post-bg-color: var(--surface-bg);
  --post-text-color: var(--text-color);
  --post-title-color: #111827;
  --post-author-color: #6b7280;
  --post-author-name-color: #374151;
  --post-action-color: #4b5563;
  --post-action-hover-color: #111827;
  --post-border-color: #e5e7eb;

  --like-color: #dc2626;
  --comment-active-color: #0d6efd;

  --dropdown-border: #e5e7eb;
  --dropdown-hover-bg: #f3f4f6;
  --dropdown-danger-hover-bg: #fee2e2;
  --dropdown-divider-color: #eef2f7;

  --comment-bg: var(--surface-bg);
  --comment-text: var(--text-color);
  --comment-border: #e5e7eb;
  --comment-input-border: #d1d5db;
  --comment-input-focus: #0d6efd;
  --comment-input-focus-shadow: rgba(13, 110, 253, 0.18);
  --comment-avatar-border: #e5e7eb;
  --comment-file-color: #4b5563;
  --comment-file-hover-color: #111827;
  
  --scrollbar-thumb: #d1d5db;
  --scrollbar-thumb-hover: #9ca3af;

  --comment-card-bg: var(--surface-bg);
  --comment-card-hover-bg: #f9fafb;
  --comment-card-border: #e5e7eb;
  --comment-card-shadow: rgba(17, 24, 39, 0.05);
  --comment-author-color: #374151;
  --comment-time-color: #9ca3af;
  --comment-time-separator: #d1d5db;
  --comment-menu-color: #9ca3af;
  --comment-menu-hover-bg: #f3f4f6;
  --comment-menu-hover-color: #111827;
  --comment-media-border: #e5e7eb;

  --like-btn-color: #6b7280;
  --like-btn-hover-bg: #f3f4f6;
  --like-btn-hover-color: #374151;
  --like-btn-liked-color: var(--like-color);
  --like-btn-liked-hover-bg: #fee2e2;

  --modal-backdrop-bg: rgba(15, 23, 42, 0.55);
  --modal-content-bg: var(--surface-bg);
  --modal-content-border-radius: 12px;

  --textarea-bg: var(--surface-bg);
  --textarea-color: var(--text-color);
  --textarea-border: #d1d5db;

  --card-border-radius: 12px;
  
  --nav-link-color: #4b5563;
  --nav-link-active-color: #0d6efd;
  --nav-link-active-border: #0d6efd;
  
  --avatar-border-color: #e5e7eb;
}

[data-theme='dark'] {
  --bs-box-shadow: var(--bs-box-shadow-dark);

  --bg-color: #0f172a;
  --surface-bg: #111827;
  --text-color: #e5e7eb;

  --post-bg-color: var(--surface-bg);
  --post-text-color: var(--text-color);
  --post-title-color: #f3f4f6;
  --post-author-color: #9ca3af;
  --post-author-name-color: #e5e7eb;
  --post-action-color: #cbd5e1;
  --post-action-hover-color: #ffffff;
  --post-border-color: #1f2937;

  --like-color: #ef4444;
  --comment-active-color: #93c5fd;

  --dropdown-border: #374151;
  --dropdown-hover-bg: #1f2937;
  --dropdown-danger-hover-bg: #3f2d2d;
  --dropdown-divider-color: #374151;

  --comment-bg: var(--surface-bg);
  --comment-text: var(--text-color);
  --comment-border: #374151;
  --comment-input-border: #4b5563;
  --comment-input-focus: #93c5fd;
  --comment-input-focus-shadow: rgba(147, 197, 253, 0.25);
  --comment-avatar-border: #4b5563;
  --comment-file-color: #cbd5e1;
  --comment-file-hover-color: #ffffff;
  
  --scrollbar-thumb: #475569;
  --scrollbar-thumb-hover: #64748b;

  --comment-card-bg: var(--surface-bg);
  --comment-card-hover-bg: #1f2937;
  --comment-card-border: #2b3441;
  --comment-card-shadow: rgba(0, 0, 0, 0.35);
  --comment-author-color: #e5e7eb;
  --comment-time-color: #9ca3af;
  --comment-time-separator: #6b7280;
  --comment-menu-color: #9ca3af;
  --comment-menu-hover-bg: #1f2937;
  --comment-menu-hover-color: #ffffff;
  --comment-media-border: #374151;

  --like-btn-color: #cbd5e1;
  --like-btn-hover-bg: #1f2937;
  --like-btn-hover-color: #ffffff;
  --like-btn-liked-color: #ef4444;
  --like-btn-liked-hover-bg: #3f2d2d;

  --modal-backdrop-bg: rgba(2, 6, 23, 0.7);
  --modal-content-bg: var(--surface-bg);

  --textarea-bg: var(--surface-bg);
  --textarea-color: var(--text-color);
  --textarea-border: #4b5563;

  --nav-link-color: #e5e7eb;
  --nav-link-active-color: #93c5fd;
  --nav-link-active-border: #93c5fd;
  
  --avatar-border-color: #4b5563;
}

body {
  background-color: var(--bg-color);
  color: var(--text-color);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.6;
  transition: background-color 0.2s ease, color 0.2s ease;
}

h1, h2, h3, h4, h5, h6 {
  color: var(--post-title-color);
}

:focus-visible {
  outline: 2px solid var(--nav-link-active-color);
  outline-offset: 2px;
}

::selection {
  background: rgba(13, 110, 253, 0.2);
}

[data-theme='dark'] .text-dark {
  color: var(--text-color) !important;
}

[data-theme='dark'] .text-secondary,
[data-theme='dark'] .text-muted {
  color: #cbd5e1 !important;
}

[data-theme='dark'] .bg-white,
[data-theme='dark'] .bg-light {
  background-color: var(--surface-bg) !important;
}

[data-theme='dark'] .card {
  background-color: var(--surface-bg) !important;
  color: var(--text-color) !important;
  border-color: var(--post-border-color) !important;
}

[data-theme='dark'] .border,
[data-theme='dark'] .border-top,
[data-theme='dark'] .border-end,
[data-theme='dark'] .border-bottom,
[data-theme='dark'] .border-start,
[data-theme='dark'] hr,
[data-theme='dark'] .dropdown-divider {
  border-color: var(--post-border-color) !important;
}

[data-theme='dark'] .border-light {
  border-color: var(--post-border-color) !important;
}

[data-theme='dark'] .btn-link {
  color: var(--nav-link-color) !important;
}

[data-theme='dark'] .btn-link:hover {
  color: var(--nav-link-active-color) !important;
}

[data-theme='dark'] .navbar-toggler {
  border-color: var(--post-border-color);
}

[data-theme='dark'] .navbar-toggler-icon {
  filter: invert(1) grayscale(1);
}

[data-theme='dark'] .form-control,
[data-theme='dark'] .form-select {
  background-color: var(--surface-bg);
  color: var(--text-color);
  border-color: var(--textarea-border);
}

[data-theme='dark'] .form-control::placeholder {
  color: #94a3b8;
}

[data-theme='dark'] a {
  color: #93c5fd;
}

[data-theme='dark'] a:hover {
  color: #bfdbfe;
}

[data-theme='dark'] .table {
  color: var(--text-color);
}

[data-theme='dark'] .table > :not(caption) > * > * {
  background-color: var(--surface-bg);
  color: var(--text-color);
  border-color: var(--post-border-color);
}

[data-theme='dark'] .table-hover > tbody > tr:hover > * {
  background-color: #1f2937;
}

[data-theme='dark'] .table-light {
  --bs-table-bg: #1f2937;
  --bs-table-color: var(--text-color);
  --bs-table-border-color: var(--post-border-color);
}

[data-theme='dark'] .list-group-item {
  background-color: var(--surface-bg);
  color: var(--text-color);
  border-color: var(--post-border-color);
}

[data-theme='dark'] .ql-container {
  background-color: var(--surface-bg);
  color: var(--text-color);
  border-color: var(--post-border-color) !important;
}

[data-theme='dark'] .ql-toolbar {
  background-color: var(--surface-bg);
  color: var(--text-color);
  border-color: var(--post-border-color) !important;
}

[data-theme='dark'] .ql-snow .ql-stroke {
  stroke: #e5e7eb;
}

[data-theme='dark'] .ql-snow .ql-fill {
  fill: #e5e7eb;
}